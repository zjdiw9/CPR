(this["webpackJsonpcpr-practice"]=this["webpackJsonpcpr-practice"]||[]).push([[12],{40:function(e,t,n){"use strict";var a=function e(){var t=0,n=document.createElement("div");function a(e){return n.appendChild(e.dom),e}function i(e){for(var a=0;a<n.children.length;a++)n.children[a].style.display=a===e?"block":"none";t=e}n.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",n.addEventListener("click",(function(e){e.preventDefault(),i(++t%n.children.length)}),!1);var r=(performance||Date).now(),d=r,o=0,l=a(new e.Panel("FPS","#0ff","#002")),c=a(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var s=a(new e.Panel("MB","#f08","#201"));return i(0),{REVISION:16,dom:n,addPanel:a,showPanel:i,begin:function(){r=(performance||Date).now()},end:function(){o++;var e=(performance||Date).now();if(c.update(e-r,200),e>=d+1e3&&(l.update(1e3*o/(e-d),100),d=e,o=0,s)){var t=performance.memory;s.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){r=this.end()},domElement:n,setMode:i}};a.Panel=function(e,t,n){var a=1/0,i=0,r=Math.round,d=r(window.devicePixelRatio||1),o=80*d,l=48*d,c=3*d,s=2*d,f=3*d,u=15*d,p=74*d,m=30*d,h=document.createElement("canvas");h.width=o,h.height=l,h.style.cssText="width:80px;height:48px";var v=h.getContext("2d");return v.font="bold "+9*d+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=n,v.fillRect(0,0,o,l),v.fillStyle=t,v.fillText(e,c,s),v.fillRect(f,u,p,m),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(f,u,p,m),{dom:h,update:function(l,w){a=Math.min(a,l),i=Math.max(i,l),v.fillStyle=n,v.globalAlpha=1,v.fillRect(0,0,o,u),v.fillStyle=t,v.fillText(r(l)+" "+e+" ("+r(a)+"-"+r(i)+")",c,s),v.drawImage(h,f+d,u,p-d,m,f,u,p-d,m),v.fillRect(f+p-d,u,d,m),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(f+p-d,u,d,r((1-l/w)*m))}}},t.a=a},64:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var a=n(0),i=n.n(a),r=n(31),d=n(39),o=n(32),l=n(49),c=n(40),s=n(41),f=function(){function e(t){var n=this;Object(r.a)(this,e),this.playAnm=function(e){var t=e.scene,a=new o.d(t),i=o.c.findByName(e.animations,"mixamo.com"),r=a.clipAction(i);n.lastAnmFrameStamp=n.lastFrameStamp,n.mixer=a,r.play()},this.render=function(e){n.lastFrameStamp=e;var t=n.renderer,a=n.scene,i=n.camera,r=n.render,d=n.lastFrameStamp;if(n.mixer){var o=e-n.lastAnmFrameStamp;n.lastAnmFrameStamp=d,n.mixer.update(o/1e3)}t.render(a,i),n.stats.update(),requestAnimationFrame(r)},this.container=t,this.init()}return Object(d.a)(e,[{key:"init",value:function(){this.addModel().then(this.playAnm),this.addRenderer(),this.addScene(),this.addLight(),this.addCamera(),this.addOrbitControl(),this.addStats()}},{key:"addScene",value:function(){var e=new o.pb;e.background=new o.k(16777215),this.scene=e}},{key:"addCamera",value:function(){var e=new o.fb(60,window.innerWidth/window.innerHeight,1,1e4);e.position.z=100,this.camera=e}},{key:"addRenderer",value:function(){var e=new o.Hb;e.setPixelRatio(window.devicePixelRatio),e.setSize(window.innerWidth,window.innerHeight),e.toneMapping=o.a,e.toneMappingExposure=1.25,e.outputEncoding=o.Ib,this.container.appendChild(e.domElement),this.renderer=e}},{key:"addModel",value:function(){var e=this;return new Promise((function(t){(new l.a).load("assets/dying_man/Dying.gltf",(function(n){var a=n.scene;a.scale.set(20,20,20),a.position.y-=30,e.scene.add(a),t(n)}))}))}},{key:"addOrbitControl",value:function(){new s.a(this.camera,this.renderer.domElement)}},{key:"addLight",value:function(){var e=new o.hb(16777215,2,200);e.position.z=100;var t=new o.hb(16777215,2,200);t.position.z=-100,this.scene.add(e),this.scene.add(t)}},{key:"addStats",value:function(){var e=new c.a;this.container.appendChild(e.dom),this.stats=e}}]),e}();function u(){var e=Object(a.useRef)();return Object(a.useEffect)((function(){new f(e.current).render()}),[]),i.a.createElement("div",{id:"CPR",ref:e})}}}]);
//# sourceMappingURL=12.4f7554cb.chunk.js.map