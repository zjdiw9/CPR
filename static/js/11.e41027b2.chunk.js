(this["webpackJsonpcpr-practice"]=this["webpackJsonpcpr-practice"]||[]).push([[11],{31:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a.d(t,"a",(function(){return n}))},38:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(0),r=a.n(n),i=a(31),c=a(50),o=a.n(c),s=a(35),u=[10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10.2,10.75,11.5,12.25,13,12.25,11.5,10.75,10,10,10,10,10,9,8,12,17,22,11,6,8,10,10,10,10,10,10,10,10.33,10.66,11,11.42,11.85,12.28,12.71,13.14,13.57,14,13.5,13,12.5,12,11.5,11,10.5,10,10.5,11,11.5,12,11.6,11.2,10.8,10.4,10,10,10,10,10,10];function d(e){for(var t=e.index,a=void 0===t?0:t,n=e.round,r=void 0===n?1:n,i=e.value,c=a,o=r,d=[];o-- >0;){var h,f=0,l=Object(s.a)(u);try{for(l.s();!(h=l.n()).done;){var b=h.value,m=0;f&&(m=Math.random()*(f-b));var v=b+m;d.push({time:c++,value:i||v}),f=b}}catch(p){l.e(p)}finally{l.f()}}return d}var h={NORMAL:1,RIP:2},f=function e(t){var a=this;Object(i.a)(this,e),this.initChart=function(){var e=a.createChart,t=a.configChart;e(),t()},this.startBeat=function(){a.hasInited||a.initChart(),a.beatIndex||a.beat()},this.stopBeat=function(){},this.beat=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=a.beats,r=a.chart,i=a.prepareData;a.anmStartTime?e=t-(a.anmStartTime||0):(a.anmStartTime=t,e=0);for(var c=Math.floor(e/750*75);a.beatIndex<=c;){var o=a.beatIndex%75;0===o&&i();var s=a.nextBeatPhase[o];n.shift(),n.push(s),a.beatIndex++}r.changeData(n),requestAnimationFrame(a.beat)},this.prepareData=function(){switch(a.mode){case h.RIP:a.nextBeatPhase=d({index:a.beatIndex+a.baseIndex,value:10});break;case h.NORMAL:default:a.nextBeatPhase=d({index:a.beatIndex+a.baseIndex,round:1})}},this.setMode=function(e){console.log("ddd",e),a.mode=e},this.createChart=function(){var e=new o.a.Chart({el:a.container,pixelRatio:window.devicePixelRatio,animate:!1,padding:0});a.chart=e},this.configChart=function(){var e=a.chart,t=a.beats;e.source(t,{time:{type:"timeCat",mask:"HH:mm:ss",range:[0,1]},value:{tickCount:2,min:4,max:24}}),e.tooltip(!1),e.axis(!1),e.line().color("#d21818").position("time*value").shape("smooth"),e.render()},this.container=t,this.beats=d({index:0,round:3,value:10}),this.beatIndex=0,this.baseIndex=225,this.nextBeatPhase=[],this.mode=h.NORMAL,this.hasInited=!1};t.b=Object(n.forwardRef)((function(e,t){var a=Object(n.useRef)(),i=Object(n.useRef)();return Object(n.useImperativeHandle)(t,(function(){return{setMode:function(e){return i.current.setMode(e)},beat:function(){return i.current.startBeat()}}})),Object(n.useEffect)((function(){var e=new f(a.current);return i.current=e,function(){e.stopBeat()}}),[]),r.a.createElement("canvas",{className:"heartbeat ".concat(e.visibility?"":"hidden"),ref:a})}))},58:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return c}));var n=a(0),r=a.n(n),i=a(38);function c(){var e=Object(n.useRef)();return r.a.createElement("div",null,r.a.createElement(i.b,{ref:e}),r.a.createElement("h1",null,"HeartBeat Demo"),r.a.createElement("button",{onClick:function(){e.current.setMode(i.a.NORMAL),e.current.beat()}},"play normal"),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){e.current.setMode(i.a.RIP),e.current.beat()}},"play death"))}}}]);
//# sourceMappingURL=11.e41027b2.chunk.js.map